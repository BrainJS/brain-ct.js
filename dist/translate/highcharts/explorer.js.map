{"version":3,"sources":["../../../src/translate/highcharts/explorer.js"],"names":["trainedNet","options","data","input","outputs","output","length","informAboutDependencies","generateOptions","undefined","console","log","updateData","x","y","chart","net","run","series","setData","redraw","animation","title","text","xAxis","categories","map","s","i","yAxis","min","max","plotOptions","point","events","drag","e","drop","stickyTracking","line","cursor","tooltip","yDecimals","name","draggableY","dragMinY","dragMaxY","dragPrecision","type","minPointLength","outputType"],"mappings":";;;;;;kBAYe,UAAUA,UAAV,EAAsBC,OAAtB,EAA8B;AAC3CC,OAAKC,KAAL,GAAaH,WAAWI,OAAX,CAAmB,CAAnB,CAAb;AACAF,OAAKG,MAAL,GAAcL,WAAWI,OAAX,CAAmBJ,WAAWI,OAAX,CAAmBE,MAAnB,GAA4B,CAA/C,CAAd;AACAC;AACA,SAAOC,gBAAgBR,UAAhB,EAA4BC,OAA5B,CAAP;AACD,C;;;;AAjBD,IAAMC,OAAO;AACXC,SAAOM,SADI;AAEXJ,UAAQI;AAFG,CAAb;;AAKA,SAASF,uBAAT,GAAkC;AAChCG,UAAQC,GAAR;AAID;;AAUD,SAASC,UAAT,CAAoBC,CAApB,EAAuBC,CAAvB,EAA0BC,KAA1B,EAAgC;AAC9Bb,OAAKC,KAAL,CAAWU,CAAX,IAAgBC,CAAhB;AACAZ,OAAKG,MAAL,GAAcW,IAAIC,GAAJ,CAAQf,KAAKC,KAAb,CAAd;AACAY,QAAMG,MAAN,CAAa,CAAb,EAAgBC,OAAhB,CAAwBjB,KAAKG,MAA7B,EAAqC,IAArC,EAA2C,KAA3C,EAAkD,IAAlD;AACAU,QAAMK,MAAN;AACD;;AAED,SAASZ,eAAT,CAAyBR,UAAzB,EAAqCC,OAArC,EAA6C;AAC3C,SAAO;AACLc,WAAO;AACLM,iBAAW;AADN,KADF;AAILC,WAAO;AACLC,YAAM;AADD,KAJF;AAOLC,WAAO,CACL,EAAEC,YAAYvB,KAAKC,KAAL,CAAWuB,GAAX,CAAe,UAACC,CAAD,EAAIC,CAAJ;AAAA,0BAAmBA,CAAnB;AAAA,OAAf,CAAd,EADK,EAEL,EAAEH,YAAY,6BAAIvB,KAAKG,MAAT,GAAiBqB,GAAjB,CAAqB,UAACC,CAAD,EAAIC,CAAJ;AAAA,2BAAoBA,CAApB;AAAA,OAArB,CAAd,EAFK,CAPF;AAWHC,WAAO;AACTC,WAAK,CADI;AAEPC,WAAK;AAFE,KAXJ;AAeLC,iBAAa;AACXd,cAAQ;AACNe,eAAO;AACLC,kBAAQ;AACNC,kBAAM,cAAUC,CAAV,EAAa;AACjBxB,yBAAW,KAAKC,CAAhB,EAAmB,KAAKC,CAAxB,EAA2B,KAAKI,MAAL,CAAYH,KAAvC;AACD,aAHK;AAINsB,kBAAM,gBAAY;AAChBzB,yBAAW,KAAKC,CAAhB,EAAmB,KAAKC,CAAxB,EAA2B,KAAKI,MAAL,CAAYH,KAAvC;AACD;AANK;AADH,SADD;AAWNuB,wBAAgB;AAXV,OADG;AAcXC,YAAM;AACJC,gBAAQ;AADJ;AAdK,KAfR;AAiCLC,aAAS;AACPC,iBAAW;AADJ,KAjCJ;AAoCLxB,YAAQ,CAAC;AACPhB,yCAAUA,KAAKC,KAAf,EADO;AAEPwC,oBAFO;AAGPC,kBAAY,IAHL;AAIPC,gBAAU,CAJH;AAKPC,gBAAU,CALH;AAMPC,qBAAe,IANR;AAOPC,YAAM,QAPC;AAQPC,sBAAgB,CART;AASPzB,aAAO;AATA,KAAD,EAUL;AACDtB,yCAAUA,KAAKG,MAAf,EADC;AAED2C,YAAO/C,QAAQiD,UAAR,KAAuB,SAAvB,GAAmC,SAAnC,GAA+C,MAFrD;AAGDP,YAAM,SAHL;AAIDC,kBAAY,KAJX;AAKDpB,aAAO;AALN,KAVK;AApCH,GAAP;AAsDD","file":"explorer.js","sourcesContent":["const data = {\n  input: undefined,\n  output: undefined,\n}\n\nfunction informAboutDependencies(){\n  console.log(`Ensure you are including both Highcharts and the Draggable Points plugin, e.g. \n    <script src=\"https://code.highcharts.com/highcharts.js\"></script>\n    <script src=\"https://rawgithub.com/highcharts/draggable-points/master/draggable-points.js\"></script>\nYou can find more information Highcharts and this plugin at https://www.highcharts.com/`);\n}\n\nexport default function (trainedNet, options){\n  data.input = trainedNet.outputs[0];\n  data.output = trainedNet.outputs[trainedNet.outputs.length - 1];\n  informAboutDependencies();\n  return generateOptions(trainedNet, options);\n}\n\n\nfunction updateData(x, y, chart){\n  data.input[x] = y;\n  data.output = net.run(data.input);\n  chart.series[1].setData(data.output, true, false, true);\n  chart.redraw();\n}\n\nfunction generateOptions(trainedNet, options){\n  return {\n    chart: {\n      animation: false\n    },\n    title: {\n      text: 'Neural Net Explorer'\n    },\n    xAxis: [\n      { categories: data.input.map((s, i) => `Input ${i}`) },\n      { categories: [...data.output].map((s, i) => `Output ${i}`) },\n    ],\n      yAxis: {\n    min: 0,\n      max: 1\n  },\n    plotOptions: {\n      series: {\n        point: {\n          events: {\n            drag: function (e) {\n              updateData(this.x, this.y, this.series.chart);\n            },\n            drop: function () {\n              updateData(this.x, this.y, this.series.chart);\n            }\n          }\n        },\n        stickyTracking: false\n      },\n      line: {\n        cursor: 'ns-resize'\n      }\n    },\n    tooltip: {\n      yDecimals: 2\n    },\n    series: [{\n      data: [...data.input],\n      name: `Inputs`,\n      draggableY: true,\n      dragMinY: 0,\n      dragMaxY: 1,\n      dragPrecision: 0.01,\n      type: 'column',\n      minPointLength: 2,\n      xAxis: 0,\n    }, {\n      data: [...data.output],\n      type: (options.outputType === 'scatter' ? 'scatter' : 'line'),\n      name: 'Outputs',\n      draggableY: false,\n      xAxis: 1,\n    }]\n  }\n}"]}